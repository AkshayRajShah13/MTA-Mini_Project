<div>
  <app-navbar (searchUser)="searchUser($event)"></app-navbar>
</div>
<br /><br /><br /><br />
<div class="table-responsive header">
  <table class="table table-striped table-md table-hover">
    <thead class="table-dark">
      <tr>
        <th>User Id</th>
        <th>First Name</th>
        <th>Middle Name</th>
        <th>Last Name</th>
        <th>DOB</th>
        <th>Email</th>
        <th>Gender</th>
        <th>Mobile</th>
        <th>Current location</th>
        <th>Prefered location</th>
        <th>Country</th>
        <th>Role</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for(u of users; track u.id) {
      <tr>
        <td>{{ u.userId }}</td>
        <td>{{ u.firstName }}</td>
        @if(u.MiddleName != null){
        <td>{{ u.MiddleName }}</td>
        }@else{
        <td>-</td>
        }
        <td>{{ u.lastName }}</td>
        <td>{{ u.dob }}</td>
        <td>{{ u.email }}</td>
        <td>{{ u.gender }}</td>
        <td>{{ u.mobile }}</td>
        <td>{{ u.currentLocation }}</td>
        <td>{{ u.prefered_location }}</td>
        <td>{{ u.country }}</td>
        <td>{{ u.authorities[0].authority }}</td>
        <td>
          <a href="#" class="text-primary me-3" data-toggle="modal" data-target="#exampleModalCenter1"
            (click)="getUser(u.userId)">
            <i class="bi bi-pencil-square"></i>
            <!-- Bootstrap edit icon -->
          </a>
          <a href="#" class="text-danger" data-toggle="modal" data-target="#exampleModalCenter"
            (click)="getId(u.userId)">
            <i class="bi bi-trash"></i>
            <!-- Bootstrap delete icon -->
          </a>
          <!-- <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#exampleModalCenter" (click)="getId(u.userId)">
            Delete
          </button> -->
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>

<!-- Delete Modal  -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">
          Delete Confirmation...
        </h5>
      </div>
      <div class="modal-body">Are you sure to delete... ?</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-success" (click)="delUser(id)">
          Yes
        </button>
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Edit Modal  -->

<div class="modal fade" id="exampleModalCenter1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        
          <div class="col-lg-6 offset-lg-5">
            <div class="section-heading wow fadeIn" data-wow-duration="1s" data-wow-delay="0.5s">
              <h4>User <em> Profile</em></h4>
              <div class="line-dec"></div>
            </div>
          </div>
        
      </div>
      <div class="modal-body">

        <div id="Update">
          <div class="container">
            <div class="row">
              <div class="col-lg-12 wow fadeInUp" data-wow-duration="0.5s" data-wow-delay="0.25s">
              
                <!-- form -->
               
 <form id="contact" class="was-validated" method="post" [formGroup]="editProfileForm">
  <div class="col-lg-12">
    <div class="fill-form">
      <div class="row">
        <div class="col-lg-6">
          <fieldset disabled>
            <div class="form-group">
              <input type="text" class="form-control" required formControlName="userId" />
            </div>
          </fieldset>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="First Name" required
              formControlName="firstName" />
          </div>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Middle Name" 
              formControlName="middleName" />
          </div>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Last Name" required
              formControlName="lastName" />
          </div>
          <div class="form-group">
            <input type="email" class="form-control" placeholder="Email" required
              formControlName="email" />
          </div>

          <div class="form-group">
            <input type="number" class="form-control" placeholder="Mobile No." required
              formControlName="mobile" />
          </div>
        </div>

        <div class="col-lg-6">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="DOB (yyyy-mm-dd)" required
              formControlName="dob" />
          </div>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Country" required
              formControlName="country" />
          </div>
          <div class="form-group">
            <input type="text" class="form-control form-control "
              placeholder="Enter your password" required formControlName="password" />
              <div class="invalid-feedback">
                Please enter the password.
              </div>
          </div>

          <div class="form-group">
            <input type="text" class="form-control" placeholder="Current Location" required
              formControlName="currentLocation" />
          </div>
       
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Prefered Location" required
              formControlName="prefered_location" />
          </div>
          <div class="form-group">
            <select class="form-select" id="gender" formControlName="gender" required>
              <option selected hidden>
                <em><i>Gender</i></em>
              </option>
              <option value="M">Male</option>
              <option value="F">Female</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
               
               
               <!-- form End -->
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-success" [disabled]="editProfileForm.invalid" (click)="update()">
          update
        </button>
      </div>
    </div>
  </div>
</div>





<!-- Bootstrap form -->
        <!-- <form  [formGroup]="editProfileForm"  class="was-validated"  autocomplete="on" method="POST">
        <fieldset disabled>
        <div class="form-group" >
            <li><span>User Id</span> : </li>
           <input type="text" class="form-control"   required formControlName="userId">
        </div>
      </fieldset>
        <div class="form-group">
            <li><span>first Name</span> : </li>
           <input type="text" class="form-control" required formControlName="firstName">
        </div>
        <div class="form-group">
            <li><span>Middle Name</span> : </li>
           <input type="text" class="form-control" required formControlName="middleName">
        </div>
        <div class="form-group">
            <li><span>Last Name</span> : </li>
           <input type="text" class="form-control" required formControlName="lastName">
        </div>
        <div class="form-group">
            <li><span>Email</span> : </li> 
           <input type="email" class="form-control" required  formControlName="email">
        </div>
        <div class="form-group">
            <li><span>password</span> : </li> 
           <input type="text" class="form-control form-control is-valid"  placeholder="Enter your password" required formControlName="password">

        </div>

        <div class="form-group">
            <li><span>Birthdate</span> : </li>
           <input type="text" class="form-control" required formControlName="dob" >
        </div>
        <div class="form-group">
           <li><span>Gender</span> : </li>
           <input type="text" class="form-control" required  formControlName="gender">
        </div>
        <div class="form-group">
            <li><span>Country</span> : </li>
           <input type="text" class="form-control" required   formControlName="country">
        </div>
        <div class="form-group">
            <li><span>Current Location</span> : </li>
           <input type="text" class="form-control" required formControlName="currentLocation">
        </div>
        <div class="form-group">
            <li><span>Prefered Location</span> : </li>
           <input type="text" class="form-control" required formControlName="prefered_location">
        </div>
        <div class="form-group">
            <li><span>Mobile</span> : 
           <input type="number" class="form-control" required formControlName="mobile"></li>
        </div>
      
      </form> -->